{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"InspireUI Document","description":"InspireUI document"}},"markdownRemark":{"frontmatter":{"title":"Push notification","date":null,"date_pretty":null,"path":null,"meta_title":"BeoNews Pro - React Native mobile app for Wordpress","meta_description":"BeoNews is an app that does magic for your website by converting your Wordpress website into mobile true native app with customized contents within a fillip.","image":null,"next":null,"sidebar":"beonews","toc":null,"keywords":["beonews","beonews pro magento","wordpress app","react-native","react-native app"]},"html":"<ol>\n<li>You need to setup OneSignal account to support push notification (<a href=\"https://onesignal.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://onesignal.com</a>) </li>\n<li>Install <a href=\"https://vi.wordpress.org/plugins/onesignal-free-web-push-notifications\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OneSignal Wordpress plugin</a> to support push notification after publish a post: </li>\n</ol>\n<h3 id=\"ios-config\"><a href=\"#ios-config\" aria-label=\"ios config permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iOS Config</h3>\n<p>Login to Onesignal, create a new app, go to app setting Config the Apple IOS</p>\n<p><img src=\"https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LHBIhMvzFkd_uhi8KQ3%2F-LHCJCEymMO1fBF_nZ7R%2F-LHCK0nNkUm6ofexfGQ8%2FScreen%20Shot%202018-07-12%20at%202.10.21%20PM.png?alt=media&#x26;token=3f86e73d-c5d5-46b1-82f7-0a7a7ef0ab79\" alt=\"img\"></p>\n<p>Click Config to open the popup config, follow the guide <a href=\"https://documentation.onesignal.com/docs/generate-an-ios-push-certificate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Generate ios push Certificate</a> to generate the certificate and upload to the site.</p>\n<p><img src=\"https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LHBIhMvzFkd_uhi8KQ3%2F-LHCJCEymMO1fBF_nZ7R%2F-LHCK2jofsI3-kJM1mec%2FScreen%20Shot%202018-07-12%20at%202.10.27%20PM.png?alt=media&#x26;token=04550275-7b30-444c-8863-01df67f2cd1d\" alt=\"img\"></p>\n<p>Select Tab <strong>\"Keys &#x26; Id</strong>\" to get the OneSignal app id, and open <strong>MStore</strong> project, common/config.js file and change the AppId:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> OneSignal: {\n    appId: &#39;85cbc2b5-4e0d-4214-9653-8054d06f4256&#39;\n  },</code></pre></div>\n<h3 id=\"android-config\"><a href=\"#android-config\" aria-label=\"android config permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Android config</h3>\n<p>Follow the same guide above for iOS</p>\n<p><img src=\"https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LHBIhMvzFkd_uhi8KQ3%2F-LHCJCEymMO1fBF_nZ7R%2F-LHCK4y_5u_X2T74dtxI%2FScreen%20Shot%202018-07-12%20at%202.10.34%20PM.png?alt=media&#x26;token=6b9a4359-c41e-4bef-90af-a7f91e856d74\" alt=\"img\"></p>\n<p>Select Tab <strong>\"Keys &#x26; Id</strong>\" to get the OneSignal app id, and open <strong>MStore</strong> project, common/config.js file and change the AppId:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> OneSignal: {\n    appId: &#39;85cbc2b5-4e0d-4214-9653-8054d06f4256&#39;\n  },</code></pre></div>\n<p>NOTE: The download package has already configure all the setting for you, but you need to replace the <code class=\"language-text\">APP_ID</code> to integrate with your OneSignal account. You can also refer <a href=\"https://github.com/geektimecoil/react-native-onesignal\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">detail document here</a> for setting up.</p>\n<h1 id=\"install-wordpress-plugin\"><a href=\"#install-wordpress-plugin\" aria-label=\"install wordpress plugin permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Wordpress plugin</h1>\n<p>Go to Configuration and fill in the APP ID, REST API Key, and your subdomain.</p>\n<p><img src=\"https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LHBIhMvzFkd_uhi8KQ3%2F-LHCJCEymMO1fBF_nZ7R%2F-LHCK7-dFvOSx6xCfYyA%2FScreen%20Shot%202018-07-12%20at%202.10.39%20PM.png?alt=media&#x26;token=387ffb1e-f14b-473f-bb22-f706e227dec6\" alt=\"img\"></p>\n<p>The default setting for the plugin <strong>\"Automatically send a push notification when I create a post from the WordPress editor\"</strong> is turn on, it's mean whenever you publish the post item, it will send notification auto to your user mobiles.</p>\n<p>Notes: when testing the app with push notification, you may could not open the post directly when receiving the message, instead of opening the Webview from the app. To fix this issues, please update the <strong>functions.php</strong> file, this file is also discussed at the <a href=\"\">Basic app setting</a> topic (the comment section):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function onesignal_send_notification_filter($fields, $new_status, $old_status, $post)\n{\n    $fields[&#39;isAndroid&#39;] = true;\n    $fields[&#39;isIos&#39;] = true;\n    $fields[&#39;isAnyWeb&#39;] = false;\n    $fields[&#39;isChrome&#39;] = false;\n    $fields[&#39;data&#39;] = array(\n        &quot;id&quot; =&gt; $post-&gt;ID,\n    );\n    /* Unset the URL to prevent opening the browser when the notification is clicked */\n    unset($fields[&#39;url&#39;]);\n    return $fields;\n}\nadd_filter(&#39;onesignal_send_notification&#39;, &#39;onesignal_send_notification_filter&#39;, 10, 4);</code></pre></div>\n<p>You can also send the push notification manually through the OneSignal admin.</p>","fields":{"slug":"/beonews/push-notification/"},"timeToRead":2,"excerpt":"You need to setup OneSignal account to support push notification ( https://onesignal.com )  Install  OneSignal Wordpress plugin  to supportâ€¦","fileAbsolutePath":"/Users/minhpham/Data/Projects/inspireui-documents/docs/content/beonews/push-notification.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/beonews/push-notification/"}}