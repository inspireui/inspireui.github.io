{"data":{"site":{"siteMetadata":{"siteUrl":"http://docs.inspireui.com","title":"InspireUI Document","description":"InspireUI document"}},"markdownRemark":{"frontmatter":{"title":"Deploy","date":null,"date_pretty":null,"path":null,"meta_title":"CeStore Web - ReactJS web app & React Native mobile app for e-commerce","meta_description":"React Native currently creates vibrant wave in mobile application development. “Write once, Run anywhere”, then you can effectively produce mobile app across all platforms including iOS & Android by one language with “Native effect”.","image":null,"next":null,"sidebar":"cestore-web","toc":null,"keywords":["cestore","cestore template","react-native","react-native app"]},"html":"<h2 id=\"how-to-deploy-a-cezerin-on-ubuntu-1604\"><a href=\"#how-to-deploy-a-cezerin-on-ubuntu-1604\" aria-label=\"how to deploy a cezerin on ubuntu 1604 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to deploy a Cezerin on Ubuntu 16.04</h2>\n<ul>\n<li><a href=\"#1-create-droplet\">Create droplet</a></li>\n<li><a href=\"#2-install-docker\">Install Docker</a></li>\n<li><a href=\"#3-run-mongodb\">Run MongoDB</a></li>\n<li><a href=\"#4-run-cezerin\">Run Cezerin</a></li>\n<li><a href=\"#5-preparing-database\">Preparing Database</a></li>\n<li><a href=\"#6-setup-domain-with-cloudflare\">Setup domain with</a></li>\n<li><a href=\"#7-turn-off-developer-mode\">Turn off Developer Mode</a></li>\n</ul>\n<h3 id=\"1-create-droplet\"><a href=\"#1-create-droplet\" aria-label=\"1 create droplet permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Create droplet</h3>\n<p>I'll use <a href=\"https://www.digitalocean.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DigitalOcean</a> to deploy Cezerin.</p>\n<ol>\n<li>Click <strong>Create droplet</strong></li>\n<li>Choose an image: <code class=\"language-text\">Ubuntu 16.04.4 x64</code></li>\n<li>Choose a size: <code class=\"language-text\">2 GB (RAM), 1 vCPU, 50 GB (SSD)</code></li>\n<li>Choose a datacenter region: <code class=\"language-text\">San Francisco</code></li>\n<li>Then SSH to droplet.</li>\n</ol>\n<h3 id=\"2-install-docker\"><a href=\"#2-install-docker\" aria-label=\"2 install docker permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Install Docker</h3>\n<p><a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker guide.</a></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> \\\n    apt-transport-https \\\n    ca-certificates \\\n    <span class=\"token function\">curl</span> \\\n    software-properties-common</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> add-apt-repository \\\n   <span class=\"token string\">\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   <span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release -cs<span class=\"token variable\">)</span></span> \\\n   stable\"</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> docker-ce</code></pre></div>\n<h3 id=\"3-run-mongodb\"><a href=\"#3-run-mongodb\" aria-label=\"3 run mongodb permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Run MongoDB</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker run --name store-db -v /var/www/store-db:/data/db -d mongo:latest</code></pre></div>\n<h3 id=\"4-run-cezerin\"><a href=\"#4-run-cezerin\" aria-label=\"4 run cezerin permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Run Cezerin</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker run -d \\\n--name store \\\n--link store-db:db \\\n-p 80:80 \\\n-e DB_HOST<span class=\"token operator\">=</span>db \\\n-e DB_PORT<span class=\"token operator\">=</span>27017 \\\n-e DB_NAME<span class=\"token operator\">=</span>shop \\\n-v /var/www/store/content:/var/www/cezerin/public/content \\\ncezerin/cezerin:latest</code></pre></div>\n<p>Check logs</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker logs store</code></pre></div>\n<h3 id=\"5-preparing-database\"><a href=\"#5-preparing-database\" aria-label=\"5 preparing database permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Preparing Database</h3>\n<p>Run <code class=\"language-text\">npm run setup</code> on Cezerin container to add default data and create indexes.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> docker <span class=\"token function\">exec</span> store <span class=\"token function\">bash</span> -c <span class=\"token string\">\"npm run setup\"</span></code></pre></div>\n<h3 id=\"6-setup-domain-with-cloudflare\"><a href=\"#6-setup-domain-with-cloudflare\" aria-label=\"6 setup domain with cloudflare permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Setup domain with CloudFlare</h3>\n<p><a href=\"https://www.cloudflare.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Cloudflare.</a></p>\n<ul>\n<li>Get droplet IP on DigitalOcean\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1ef03bc400942f05eca1d801b0321f5/b6710/do-ip.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 718px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 19.220055710306408%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAqUlEQVQY032PUQvDIAyE+///4Z7bbm3drBmFqFVvZyh7GSzwkTuIxzm8PPB0DuM4Yts2Y1kWzPOMaZrxuN/Nn+eJPq21vww3p/DisfKR995Y15XBC5zbEEKAiEBVEaMyOON32lcNmhQpZ2RSayWF+iRAL1Vro05IKTGwGqXUy0fughT7zdVQgliDTg+NbCJyYN8bd2OzzJY79Zu7GaqFPthvRLLdHke1Qh98SDYTCf6eOwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"DigitalOcean IP Address\"\n        title=\"\"\n        src=\"/static/a1ef03bc400942f05eca1d801b0321f5/b6710/do-ip.png\"\n        srcset=\"/static/a1ef03bc400942f05eca1d801b0321f5/11053/do-ip.png 200w,\n/static/a1ef03bc400942f05eca1d801b0321f5/1b42c/do-ip.png 400w,\n/static/a1ef03bc400942f05eca1d801b0321f5/b6710/do-ip.png 718w\"\n        sizes=\"(max-width: 718px) 100vw, 718px\"\n      />\n  </span>\n  </a></li>\n<li>Add <code class=\"language-text\">A</code> and <code class=\"language-text\">CNAME</code> to DNS on CloudFlare\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c7b0bd6471b3be7efe064782e633891b/1d3ce/dns.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 17.063081695966908%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAApUlEQVQI1zWNyw6DIBBF/f/f6gd0jaYI4qLaREAeSnncAkkXJ5M5c29mGMcRM2MghIBzjmVZOpRSTNMEIUTn7xus5imdsa4rSO2/ZtYzrT+4jcMbBaU07vvGdV19OuegtcZ5npBSwlrbfcN7j+M4YGvGOwMvnvVu8N42DEZLoORebMGcM0opiDH23RhTnymE77f7RkoJqj4JoboUENkD4b6w7x/8APyG4rSGcF2CAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"CloudFlare DNS\"\n        title=\"\"\n        src=\"/static/c7b0bd6471b3be7efe064782e633891b/efcfb/dns.png\"\n        srcset=\"/static/c7b0bd6471b3be7efe064782e633891b/11053/dns.png 200w,\n/static/c7b0bd6471b3be7efe064782e633891b/1b42c/dns.png 400w,\n/static/c7b0bd6471b3be7efe064782e633891b/efcfb/dns.png 800w,\n/static/c7b0bd6471b3be7efe064782e633891b/1d3ce/dns.png 967w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></li>\n<li>Set SSL to <code class=\"language-text\">Flexible</code> on CloudFlare\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f2dcf2435fb26da7643f78f0ce1f390/13d39/cf-ssl.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 30.349794238683124%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvUlEQVQY032RiQ6DMAxD+f9PRdxtUnqAV4dDDGmr9Agtke2UZpomhBCwbRtKLijlSa5nGTklpJNc9zFGDMOAvu+tXnRdh8Z7DxGFaiWoiR8oJERo3PBeNGeQeZ6tXu8UbZxzGMcJ4gUUX5blZq6481zEm6mv/UxIEQrQXCtSvzFxw0fbtbVZQHGOte+7pbgp76sot+CVkJigOegxKuu6rib4b9GEI75HHjkyE9kPebh/pfvBszesCU4TxkXwATHX0ujeO77QAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"CloudFlare SSL\"\n        title=\"\"\n        src=\"/static/2f2dcf2435fb26da7643f78f0ce1f390/efcfb/cf-ssl.png\"\n        srcset=\"/static/2f2dcf2435fb26da7643f78f0ce1f390/11053/cf-ssl.png 200w,\n/static/2f2dcf2435fb26da7643f78f0ce1f390/1b42c/cf-ssl.png 400w,\n/static/2f2dcf2435fb26da7643f78f0ce1f390/efcfb/cf-ssl.png 800w,\n/static/2f2dcf2435fb26da7643f78f0ce1f390/13d39/cf-ssl.png 972w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></li>\n<li>Turn on <code class=\"language-text\">Always use HTTPS</code> on CloudFlare\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a0ce3e7c0b779fdc5d00d27521818f09/48aaa/cf-alway-https.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 21.75257731958763%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAmklEQVQY03WPSw7DIAxEuf9deozeo5tIVQW2+YMgmQJVukoWTx7/RrYSZmitwSMaY5Bzxr7v6L3fUmsFES2YBGTonytrLUQE3ntMHWNESnmQlnkIYelZ//USWmtw1uNDbzy3B8jq4WHBw0c559ZSzmUNn5zXzOUrPY8gNtj0a3xHKxdhqDl09eJxHLfMfill0WqHjxniItglfAF29TXzAQVB6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"CloudFlare Always HTTPS\"\n        title=\"\"\n        src=\"/static/a0ce3e7c0b779fdc5d00d27521818f09/efcfb/cf-alway-https.png\"\n        srcset=\"/static/a0ce3e7c0b779fdc5d00d27521818f09/11053/cf-alway-https.png 200w,\n/static/a0ce3e7c0b779fdc5d00d27521818f09/1b42c/cf-alway-https.png 400w,\n/static/a0ce3e7c0b779fdc5d00d27521818f09/efcfb/cf-alway-https.png 800w,\n/static/a0ce3e7c0b779fdc5d00d27521818f09/48aaa/cf-alway-https.png 970w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></li>\n</ul>\n<h3 id=\"7-turn-off-developer-mode\"><a href=\"#7-turn-off-developer-mode\" aria-label=\"7 turn off developer mode permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. Turn off Developer Mode</h3>\n<p>By default, Cezerin is in developer mode. This means you can access API and Dashboard without access tokens.<br>\nTo turn off developer mode, you need to do:</p>\n<ul>\n<li>\n<p>Add access token in Dashboard or MongoDB</p>\n</li>\n<li>\n<p>Set SMTP server from Dashboard or in <code class=\"language-text\">config/server.js</code></p>\n</li>\n<li>\n<p>Remove <code class=\"language-text\">developerMode</code> from <code class=\"language-text\">config/server.js</code></p>\n</li>\n<li>\n<p>Remove <code class=\"language-text\">developerMode</code> from <code class=\"language-text\">config/admin.js</code></p>\n</li>\n<li>\n<p><code class=\"language-text\">npm run build</code> inside Cezerin container</p>\n</li>\n<li>\n<p><code class=\"language-text\">pm2 reload api</code> inside Cezerin container</p>\n<blockquote>\n<p>In order to login as the admin site, you should add new record from /admin/settings/tokens</p>\n<p>example: <a href=\"http://cestore.inspireui.com/admin/settings/tokens\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://cestore.inspireui.com/admin/settings/tokens</a> </p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"8-example-nginx-config-on-production\"><a href=\"#8-example-nginx-config-on-production\" aria-label=\"8 example nginx config on production permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. Example nginx config on production</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server {\n        # Dynamic image resizing server\n        listen 127.0.0.1:8888;\n        server_tokens off;\n        location ~ &quot;^/resize/(?&lt;entity&gt;\\w+)/(?&lt;id&gt;\\w+)/(?&lt;width&gt;[1-9][0-9][0-9]{1}|[1][0-9][0-9][0-9]{1})/(?&lt;file&gt;.+)$&quot; {\n                alias /var/www/beostore/cezerin/public/content/images/$entity/$id/$file;\n                image_filter_buffer 20M;\n                image_filter_jpeg_quality 85;\n                image_filter_interlace on;\n                image_filter resize $width -;\n        }\n}\n\n# Cache rule for resized images\nproxy_cache_path /tmp/nginx-images-cache2/ levels=1:2 keys_zone=images:10m inactive=30d max_size=5g use_temp_path=off;\n\nserver {\n        listen 80;\n        server_name cestore.inspireui.com;\n\n        #ssl_certificate     /etc/nginx/ssh/gd.crt;\n        #ssl_certificate_key /etc/nginx/privkey.pem;\n\n        gzip              on;\n        gzip_comp_level   2;\n        gzip_min_length   1024;\n        gzip_vary         on;\n        gzip_proxied      expired no-cache no-store private auth;\n        gzip_types        application/x-javascript application/javascript application/xml application/json text/xml text/css text$\n\n        client_body_timeout 12;\n        client_header_timeout 12;\n        reset_timedout_connection on;\n        send_timeout 10;\n        server_tokens off;\n        client_max_body_size 50m;\n\n        expires 1y;\n        access_log off;\n        log_not_found off;\n        root /var/www/beostore/cezerin/public/content;\n\n        location ~ &quot;^/images/(?&lt;entity&gt;\\w+)/(?&lt;id&gt;\\w+)/(?&lt;width&gt;[1-9][0-9][0-9]{1}|[1][0-9][0-9][0-9]{1})/(?&lt;file&gt;.+)$&quot; {\n                # /images/products/id/100/file.jpg &gt;&gt;&gt; Proxy to internal image resizing server\n                proxy_pass http://127.0.0.1:8888/resize/$entity/$id/$width/$file;\n                proxy_cache images;\n                proxy_cache_valid 200 30d;\n        }\n\n        location /admin {\n                alias /var/www/beostore/cezerin/public/admin/;\n                            try_files /index.html /index.html;\n        }\n\n        location /admin-assets/ {\n                alias /var/www/beostore/cezerin/public/admin-assets/;\n        }\n\n        location /assets/ {\n                alias /var/www/beostore/cezerin/theme/assets/;\n        }\n        location /sw.js {\n                root /var/www/beostore/cezerin/public/;\n        }\n\n        location /sw-toolbox.js {\n                root /var/www/beostore/cezerin/public/;\n        }\n\n        location ~ ^/(api|ajax|ws)/ {\n                # Proxy to NodeJS\n                expires off;\n                proxy_pass       http://127.0.0.1:3001;\n                proxy_set_header Host $host;\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header X-Forwarded-Proto $scheme;\n                proxy_set_header Upgrade $http_upgrade;\n                proxy_set_header Connection &quot;upgrade&quot;;\n        }\n\n        location / {\n                try_files $uri @proxy;\n        }\n\n        location @proxy {\n                # Proxy to NodeJS\n                expires off;\n                proxy_pass       http://127.0.0.1:3000;\n                proxy_set_header Host $host;\n                proxy_set_header X-Real-IP $remote_addr;\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n                proxy_set_header X-Forwarded-Proto $scheme;\n        }\n}</code></pre></div>","fields":{"slug":"/cestore-web/deploy/"},"timeToRead":5,"excerpt":"How to deploy a Cezerin on Ubuntu 16.04 Create droplet Install Docker Run MongoDB Run Cezerin Preparing Database Setup domain with Turn off…","fileAbsolutePath":"/Users/minh/Data/Projects/documents/inspireui-documents/docs/content/cestore-web/deploy.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/cestore-web/deploy/"}}