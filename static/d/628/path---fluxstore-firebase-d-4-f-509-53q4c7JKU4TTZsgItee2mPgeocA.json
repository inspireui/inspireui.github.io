{"data":{"site":{"siteMetadata":{"siteUrl":"http://ghost.local:8000","title":"InspireUI Document","description":"InspireUI document"}},"markdownRemark":{"frontmatter":{"title":"Firebase Settings","date":null,"date_pretty":null,"path":null,"meta_title":"FluxStore - Universal mobile commerce Flutter app for Magento, WooCommerce and Opencart","meta_description":"Fluxstore is universal app that fully integration with the Woocommerce, Mangeto and Opencart","image":null,"next":null,"sidebar":"fluxstore","toc":null,"keywords":["fluxstore","flutter app","fluxstore","Magento app","Woo Commerce app","Opencart app"]},"html":"<h2 id=\"push-notification\"><a href=\"#push-notification\" aria-label=\"push notification permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Push notification</h2>\n<p>A Flutter plugin to use the <a href=\"https://firebase.google.com/docs/cloud-messaging/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Cloud Messaging (FCM) API</a>.</p>\n<p>With this plugin, your Flutter app can receive and process push notifications as well as data messages on Android and iOS. Read Firebase's <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">About FCM Messages</a> to learn more about the differences between notification messages and data messages.</p>\n<p>For Flutter plugins for other Firebase products, see <a href=\"https://github.com/flutter/plugins/blob/master/FlutterFire.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FlutterFire.md</a>.</p>\n<p><em>Note</em>: This plugin is still under development, and some APIs might not be available yet. <a href=\"https://github.com/flutter/flutter/issues\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Feedback</a> and <a href=\"https://github.com/flutter/plugins/pulls\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pull Requests</a> are most welcome!</p>\n<h2 id=\"usage\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h2>\n<p>To use this plugin, add <code class=\"language-text\">firebase_messaging</code> as a <a href=\"https://flutter.io/platform-plugins/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">dependency in your pubspec.yaml file</a>.</p>\n<h2 id=\"getting-started\"><a href=\"#getting-started\" aria-label=\"getting started permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<p>Check out the <code class=\"language-text\">example</code> directory for a sample app using Firebase Cloud Messaging.</p>\n<h3 id=\"android-integration\"><a href=\"#android-integration\" aria-label=\"android integration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Android Integration</h3>\n<p>To integrate your plugin into the Android part of your app, follow these steps:</p>\n<ol>\n<li>\n<p>Using the <a href=\"https://console.firebase.google.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Console</a> add an Android app to your project: Follow the assistant, download the generated <code class=\"language-text\">google-services.json</code> file and place it inside <code class=\"language-text\">android/app</code>. Next, modify the <code class=\"language-text\">android/build.gradle</code> file and the <code class=\"language-text\">android/app/build.gradle</code> file to add the Google services plugin as described by the Firebase assistant.</p>\n</li>\n<li>\n<p>(optional, but recommended) If want to be notified in your app (via <code class=\"language-text\">onResume</code> and <code class=\"language-text\">onLaunch</code>, see below) when the user clicks on a notification in the system tray include the following <code class=\"language-text\">intent-filter</code> within the <code class=\"language-text\">&lt;activity&gt;</code> tag of your <code class=\"language-text\">android/app/src/main/AndroidManifest.xml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>intent-filter</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>action</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>FLUTTER_NOTIFICATION_CLICK<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>category</span> <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>android.intent.category.DEFAULT<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>intent-filter</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n</ol>\n<h3 id=\"ios-integration\"><a href=\"#ios-integration\" aria-label=\"ios integration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iOS Integration</h3>\n<p>To integrate your plugin into the iOS part of your app, follow these steps:</p>\n<ol>\n<li>\n<p>Generate the certificates required by Apple for receiving push notifications following <a href=\"https://firebase.google.com/docs/cloud-messaging/ios/certs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this guide</a> in the Firebase docs. You can skip the section titled \"Create the Provisioning Profile\".</p>\n</li>\n<li>\n<p>Using the <a href=\"https://console.firebase.google.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Console</a> add an iOS app to your project: Follow the assistant, download the generated <code class=\"language-text\">GoogleService-Info.plist</code> file, open <code class=\"language-text\">ios/Runner.xcworkspace</code> with Xcode, and within Xcode place the file inside <code class=\"language-text\">ios/Runner</code>. <strong>Don't</strong> follow the steps named \"Add Firebase SDK\" and \"Add initialization code\" in the Firebase assistant.</p>\n</li>\n<li>\n<p>In Xcode, select <code class=\"language-text\">Runner</code> in the Project Navigator. In the Capabilities Tab turn on <code class=\"language-text\">Push Notifications</code> and <code class=\"language-text\">Background Modes</code>, and enable <code class=\"language-text\">Background fetch</code> and <code class=\"language-text\">Remote notifications</code> under <code class=\"language-text\">Background Modes</code>.</p>\n</li>\n<li>\n<p>Follow the steps in the \"<a href=\"https://firebase.google.com/docs/cloud-messaging/ios/client#upload_your_apns_certificate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Upload your APNs certificate</a>\" section of the Firebase docs.</p>\n</li>\n</ol>\n<h3 id=\"dartflutter-integration\"><a href=\"#dartflutter-integration\" aria-label=\"dartflutter integration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dart/Flutter Integration</h3>\n<p>From your Dart code, you need to import the plugin and instantiate it:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string\">'package:firebase_messaging/firebase_messaging.dart'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">final</span> FirebaseMessaging _firebaseMessaging <span class=\"token operator\">=</span> <span class=\"token function\">FirebaseMessaging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Next, you should probably request permissions for receiving Push Notifications. For this, call <code class=\"language-text\">_firebaseMessaging.requestNotificationPermissions()</code>. This will bring up a permissions dialog for the user to confirm on iOS. It's a no-op on Android. Last, but not least, register <code class=\"language-text\">onMessage</code>, <code class=\"language-text\">onResume</code>, and <code class=\"language-text\">onLaunch</code> callbacks via <code class=\"language-text\">_firebaseMessaging.configure()</code> to listen for incoming messages (see table below for more information).</p>\n<h2 id=\"receiving-messages\"><a href=\"#receiving-messages\" aria-label=\"receiving messages permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Receiving Messages</h2>\n<p>Messages are sent to your Flutter app via the <code class=\"language-text\">onMessage</code>, <code class=\"language-text\">onLaunch</code>, and <code class=\"language-text\">onResume</code> callbacks that you configured with the plugin during setup. Here is how different message types are delivered on the supported platforms:</p>\n<table>\n<thead>\n<tr>\n<th align=\"right\"></th>\n<th>App in Foreground</th>\n<th>App in Background</th>\n<th>App Terminated</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"right\"><strong>Notification on Android</strong></td>\n<td><code class=\"language-text\">onMessage</code></td>\n<td>Notification is delivered to system tray. When the user clicks on it to open app <code class=\"language-text\">onResume</code> fires if <code class=\"language-text\">click_action: FLUTTER_NOTIFICATION_CLICK</code> is set (see below).</td>\n<td>Notification is delivered to system tray. When the user clicks on it to open app <code class=\"language-text\">onLaunch</code> fires if <code class=\"language-text\">click_action: FLUTTER_NOTIFICATION_CLICK</code> is set (see below).</td>\n</tr>\n<tr>\n<td align=\"right\"><strong>Notification on iOS</strong></td>\n<td><code class=\"language-text\">onMessage</code></td>\n<td>Notification is delivered to system tray. When the user clicks on it to open app <code class=\"language-text\">onResume</code> fires.</td>\n<td>Notification is delivered to system tray. When the user clicks on it to open app <code class=\"language-text\">onLaunch</code> fires.</td>\n</tr>\n<tr>\n<td align=\"right\"><strong>Data Message on Android</strong></td>\n<td><code class=\"language-text\">onMessage</code></td>\n<td><code class=\"language-text\">onMessage</code> while app stays in the background.</td>\n<td><em>not supported by plugin, message is lost</em></td>\n</tr>\n<tr>\n<td align=\"right\"><strong>Data Message on iOS</strong></td>\n<td><code class=\"language-text\">onMessage</code></td>\n<td>Message is stored by FCM and delivered to app via <code class=\"language-text\">onMessage</code> when the app is brought back to foreground.</td>\n<td>Message is stored by FCM and delivered to app via <code class=\"language-text\">onMessage</code> when the app is brought back to foreground.</td>\n</tr>\n</tbody>\n</table>\n<p>Additional reading: Firebase's <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">About FCM Messages</a>.</p>\n<h2 id=\"sending-messages\"><a href=\"#sending-messages\" aria-label=\"sending messages permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sending Messages</h2>\n<p>Refer to the <a href=\"https://firebase.google.com/docs/cloud-messaging/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase documentation</a> about FCM for all the details about sending messages to your app. When sending a notification message to an Android device, you need to make sure to set the <code class=\"language-text\">click_action</code> property of the message to <code class=\"language-text\">FLUTTER_NOTIFICATION_CLICK</code>. Otherwise the plugin will be unable to deliver the notification to your app when the users clicks on it in the system tray.</p>\n<p>For testing purposes, the simplest way to send a notification is via the <a href=\"https://firebase.google.com/docs/cloud-messaging/send-with-console\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Firebase Console</a>. Make sure to include <code class=\"language-text\">click_action: FLUTTER_NOTIFICATION_CLICK</code> as a \"Custom data\" key-value-pair (under \"Advanced options\") when targeting an Android device. The Firebase Console does not support sending data messages.</p>\n<p>Alternatively, a notification or data message can be sent from a terminal:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">DATA<span class=\"token operator\">=</span><span class=\"token string\">'{\"notification\": {\"body\": \"this is a body\",\"title\": \"this is a title\"}, \"priority\": \"high\", \"data\": {\"click_action\": \"FLUTTER_NOTIFICATION_CLICK\", \"id\": \"1\", \"status\": \"done\"}, \"to\": \"&lt;FCM TOKEN>\"}'</span>\n<span class=\"token function\">curl</span> https://fcm.googleapis.com/fcm/send -H <span class=\"token string\">\"Content-Type:application/json\"</span> -X POST -d <span class=\"token string\">\"<span class=\"token variable\">$DATA</span>\"</span> -H <span class=\"token string\">\"Authorization: key=&lt;FCM SERVER KEY>\"</span></code></pre></div>\n<p>Remove the <code class=\"language-text\">notification</code> property in <code class=\"language-text\">DATA</code> to send a data message.</p>\n<h3 id=\"sms-login-e\"><a href=\"#sms-login-e\" aria-label=\"sms login e permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SMS Login e</h3>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/3NLP-1KX_Vk\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>","fields":{"slug":"/fluxstore/firebase/"},"timeToRead":5,"excerpt":"Push notification A Flutter plugin to use the  Firebase Cloud Messaging (FCM) API . With this plugin, your Flutter app can receive and…","fileAbsolutePath":"/Users/minh/projects/inspireui-documents/docs/content/fluxstore/firebase.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/fluxstore/firebase/"}}